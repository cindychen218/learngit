webpackJsonp([7],{487:function(t,e,i){"use strict";var s,n,o;i(507),function(d){n=[i(0)],(o="function"==typeof(s=d)?s.apply(e,n):s)===undefined||(t.exports=o)}(function(t){t.extend(!0,window,{CityPicker:d});var e="change.citypicker",s="province",n="cun",o=i(508);function d(e,i){this.$element=t("#"+e).attr("realId",e),this.$textHelp=t("#textHelp_"+e),this.$container=this.$element.parent().parent(),this.cmptype="CityPicker",this.$code=t("#"+e+"_code").addClass("ComponentsSerialize"),this.$dropdown=null,this.options=t.extend({},d.DEFAULTS,t.isPlainObject(i)&&i),this.options.defaultValue={province:this.options.province,city:this.options.city,district:this.options.district,xiang:this.options.xiang,cun:this.options.cun},this.active=!0,this.dems=[],this.needBlur=!0,this.init()}return d.DEFAULTS={simple:!0,responsive:!1,placeholder:"--请选择--",url:Base.globvar.basePath+"sysapp/regionSupportController!querySubRegions.do",level:"3",levelOneName:"省",levelTwoName:"市",levelThreeName:"区/县",levelFourName:"街道/乡镇",levelFiveName:"社区/村",province:"",city:"",district:"",xiang:"",cun:"",required:!1,disabled:!1,readOnly:!1,toolTip:null,validObj:null},d.setDefaults=function(e){t.extend(d.DEFAULTS,e)},d.prototype={constructor:d,init:function(){this.defineDems(),this.render(),this.bind(),this.active=!0,this.initState(!0),this.options.textHelp&&this.textHelp()},initState:function(t){t?(this.options.required&&this.setRequired(!0),this.options.disabled&&this.setEnable(!1),this.options.readOnly&&this.setReadOnly(!0)):(this.setRequired(this.options.required),this.setEnable(!this.options.disabled),this.setReadOnly(this.options.readOnly))},render:function(){var e=this.getPosition(),i=this.$element.attr("placeholder")||this.options.placeholder,s='<span class="city-picker-span" style="width:100%;height:'+e.height+"px;line-height:"+(e.height-1)+'px;">'+(i?'<span class="placeholder">'+i+"</span>":"")+'<span class="title"></span><div class="arrow faceIcon icon-arrow_down"></div></span>',n='<div class="city-picker-dropdown" style="left:0px;top:100%;width:100%;"><div class="city-select-wrap"><div class="city-select-tab"><a class="active" data-count="province">'+this.options.levelOneName+"</a>"+(this.includeDem("city")?'<a data-count="city">'+this.options.levelTwoName+"</a>":"")+(this.includeDem("district")?'<a data-count="district">'+this.options.levelThreeName+"</a>":"")+(this.includeDem("xiang")?'<a data-count="xiang">'+this.options.levelFourName+"</a>":"")+(this.includeDem("cun")?'<a data-count="cun">'+this.options.levelFiveName+"</a>":"")+'</div><div class="city-select-content"><div class="city-select province" data-count="province"></div>'+(this.includeDem("city")?'<div class="city-select city" data-count="city"></div>':"")+(this.includeDem("district")?'<div class="city-select district" data-count="district"></div>':"")+(this.includeDem("xiang")?'<div class="city-select xiang" data-count="xiang"></div>':"")+(this.includeDem("cun")?'<div class="city-select cun" data-count="cun"></div>':"")+"</div></div>";this.$element.addClass("city-picker-input"),this.$textspan=t(s).insertAfter(this.$element),this.$dropdown=t(n).insertAfter(this.$textspan);var o=this.$dropdown.find(".city-select");t.each(this.dems,t.proxy(function(t,e){this["$"+e]=o.filter("."+e)},this)),this.refresh()},refresh:function(e){this.$dropdown.find(".city-select").data("item",null);var i=this.$element.val()||"";i=i.split("/"),t.each(this.dems,t.proxy(function(t,s){i[t]&&t<i.length?this.options[s]=i[t]:e&&(this.options[s]=""),this.output(s)},this)),this.tab(s),this.feedText(),this.feedVal();var n=this.getCode();this.$code.val(n)},defineDems:function(){var e=!1;t.each([s,"city","district","xiang",n],t.proxy(function(t,i){e||this.dems.push(i),t+1==this.options.level&&(e=!0)},this))},includeDem:function(e){return-1!==t.inArray(e,this.dems)},getPosition:function(){var t,e,i,s,n;return t=this.$element.position(),e=(s=this.getSize(this.$element)).height,i=s.width,this.options.responsive&&(n=this.$element.offsetParent().width())&&((i/=n)>.99&&(i=1),i=100*i+"%"),{top:t.top||0,left:t.left||0,height:e,width:i}},getSize:function(e){var i,s,n;return e.is(":visible")?n={width:e.outerWidth(),height:e.outerHeight()}:((i=t("<div class='city-ta-picker'/>").appendTo(t("body"))).css({position:"absolute !important",visibility:"hidden !important",display:"block !important"}),n={width:(s=e.clone().appendTo(i)).outerWidth(),height:s.outerHeight()},i.remove()),n},getWidthStyle:function(e,i){return this.options.responsive&&!t.isNumeric(e)?"width:"+e+";":"width:"+(i?Math.max(320,e):e)+"px;"},bind:function(){this.unbind();var i=this;t(document).on("click",this._mouteclick=function(e){var s,n,o,d=t(e.target);d.is(".city-picker-span")?n=d:d.is(".city-picker-span *")&&(n=d.parents(".city-picker-span")),d.is(".city-picker-input")&&(o=d),d.is(".city-picker-dropdown")?s=d:d.is(".city-picker-dropdown *")&&(s=d.parents(".city-picker-dropdown")),(!o&&!n&&!s||n&&n.get(0)!==i.$textspan.get(0)||o&&o.get(0)!==i.$element.get(0)||s&&s.get(0)!==i.$dropdown.get(0))&&i.close(!0)}),this.$element.on("change",this._changeElement=t.proxy(function(){this.close(!0),this.refresh(!0)},this)).on("focus",this._focusElement=t.proxy(function(){this.needBlur=!0,this.open()},this)).on("blur",this._blurElement=t.proxy(function(){this.needBlur&&(this.needBlur=!1,this.close(!0))},this)),this.$textspan.on("click",function(e){var s,n=t(e.target);i.needBlur=!1,n.is(".select-item")?(s=n.data("count"),i.open(s)):i.$dropdown.is(":visible")?i.close():i.open()}).on("mousedown",function(){i.needBlur=!1}),this.$dropdown.on("click",".city-select a",function(){var s=t(this).parents(".city-select"),n=s.find("a.active"),o=0===s.next().length;n.removeClass("active"),t(this).addClass("active"),n.data("code")!==t(this).data("code")&&(s.data("item",{address:t(this).attr("title"),code:t(this).data("code")}),t(this).trigger(e),i.feedText(),i.feedVal(),o&&i.close())}).on("click",".city-select-tab a",function(){if(!t(this).hasClass("active")){var e=t(this).data("count");i.tab(e)}}).on("mousedown",function(){i.needBlur=!1}),this.$province&&this.$province.on(e,this._changeProvince=t.proxy(function(){this.output("city"),this.output("district"),this.output("xiang"),this.output(n),this.tab("city")},this)),this.$city&&this.$city.on(e,this._changeCity=t.proxy(function(){this.output("district"),this.output("xiang"),this.output(n),this.tab("district")},this)),this.$district&&this.$district.on(e,this._changeDistrict=t.proxy(function(){this.output("xiang"),this.output(n),this.tab("xiang")},this)),this.$xiang&&this.$xiang.on(e,this._changeXiang=t.proxy(function(){this.output(n),this.tab(n)},this))},open:function(t){t=t||s,this.$dropdown.show(),this.$textspan.addClass("open").addClass("focus").find(".arrow").addClass("icon-arrow_up").removeClass("icon-arrow_down"),this.tab(t)},close:function(t){this.$dropdown.hide(),this.$textspan.removeClass("open").find(".arrow").addClass("icon-arrow_down").removeClass("icon-arrow_up"),t&&this.$textspan.removeClass("focus");var e=this.getCode();this.$code.val(e)},unbind:function(){t(document).off("click",this._mouteclick),this.$element.off("change",this._changeElement),this.$element.off("focus",this._focusElement),this.$element.off("blur",this._blurElement),this.$textspan.off("click"),this.$textspan.off("mousedown"),this.$dropdown.off("click"),this.$dropdown.off("mousedown"),this.$province&&this.$province.off(e,this._changeProvince),this.$city&&this.$city.off(e,this._changeCity),this.$district&&this.$district.off(e,this._changeDistrict),this.$xiang&&this.$xiang.off(e,this._changeXiang)},getText:function(){var e="";return this.$dropdown.find(".city-select").each(function(){var i=t(this).data("item"),s=t(this).data("count");i&&(e+=(t(this).hasClass("province")?"":"/")+'<span class="select-item" data-count="'+s+'" data-code="'+i.code+'">'+i.address+"</span>")}),e},getPlaceHolder:function(){return this.$element.attr("placeholder")||this.options.placeholder},feedText:function(){this.getText()?(this.$textspan.find(">.placeholder").hide(),this.$textspan.find(">.title").html(this.getText()).show()):(this.$textspan.find(">.placeholder").text(this.getPlaceHolder()).show(),this.$textspan.find(">.title").html("").hide()),this.$textspan.triggerHandler("contentChange")},getVal:function(){var e="";return this.$dropdown.find(".city-select").each(function(){var i=t(this).data("item");i&&(e+=(t(this).hasClass("province")?"":"/")+i.address)}),e},getValue:function(){return this.getVal()},feedVal:function(){this.$element.val(this.getVal())},output:function(e){var i,d,a,c,r=this.options,h=this["$"+e],l=e===s?{}:[],u=null,p=this;if(h&&h.length)if(i=h.data("item"),c=(i?i.address:null)||r[e],a=e===s?86:"city"===e?this.$province&&this.$province.find(".active").data("code"):"district"===e?this.$city&&this.$city.find(".active").data("code"):"xiang"===e?this.$district&&this.$district.find(".active").data("code"):e===n?this.$xiang&&this.$xiang.find(".active").data("code"):a,t.isNumeric(a))if(86==a)d=o[a],f();else t.ajax({type:"post",timeout:6e4,url:this.options.url,async:!1,data:{code:a},dataType:"json",success:function(t){d=t||null},error:function(){d=null},complete:function(){f()}});else d=null,f();function f(){t.isPlainObject(d)&&t.each(d,function(t,i){var n;if(e===s){n=[];for(var o=0;o<i.length;o++)i[o].code!==c&&i[o].address!==c||(u={code:i[o].code,address:i[o].address}),n.push({code:i[o].code,address:i[o].address,selected:i[o].code===c});l[t]=n}else t!==c&&i!==c||(u={code:t,address:i}),l.push({code:t,address:i,selected:t===c||i===c})}),h.html(e===s?p.getProvinceList(l):p.getList(l,e)),h.data("item",u)}},getProvinceList:function(e){var i=[],n=this,o=this.options.simple;return t.each(e,function(e,d){i.push('<dl class="clearfix">'),i.push("<dt>"+e+"</dt><dd>"),t.each(d,function(t,e){i.push('<a title="'+(e.address||"")+'" data-code="'+(e.code||"")+'" class="'+(e.selected?" active":"")+'">'+(o?n.simplize(e.address,s):e.address)+"</a>")}),i.push("</dd></dl>")}),i.join("")},getList:function(e,i){var s=[],n=this,o=this.options.simple;return s.push('<dl class="clearfix"><dd>'),t.each(e,function(t,e){s.push('<a title="'+(e.address||"")+'" data-code="'+(e.code||"")+'" class="'+(e.selected?" active":"")+'">'+(o?n.simplize(e.address,i):e.address)+"</a>")}),s.push("</dd></dl>"),s.join("")},simplize:function(t,e){return"市辖区"==(t=t||"")?t:e===s?t.replace(/[省,市,自治区,壮族,回族,维吾尔]/g,""):"city"===e?t.replace(/[市,地区,回族,蒙古,苗族,白族,傣族,景颇族,藏族,彝族,壮族,傈僳族,布依族,侗族]/g,"").replace("哈萨克","").replace("自治州","").replace(/自治县/,""):"district"===e&&t.length>2?t.replace(/[市,区,县,旗]/g,""):t},tab:function(t){var e=this.$dropdown.find(".city-select"),i=this.$dropdown.find(".city-select-tab > a"),s=this["$"+t],n=this.$dropdown.find('.city-select-tab > a[data-count="'+t+'"]');s&&(e.hide(),s.show(),i.removeClass("active"),n.addClass("active"))},destroy:function(){this.unbind(),this.$element.removeData("citypicker").removeClass("city-picker-input"),this.$textspan.remove(),this.$dropdown.remove()},getCode:function(){var t=this.$element.parent().find("span.select-item"),e=t.length;return e<=0?this.$code.val():t[e-1].getAttribute("data-code")},setCode:function(t){if(t){var e=t.toString();this.options.province=e.substring(0,2)?e.substring(0,2)+"0000000000":"",this.options.city=e.substring(0,4)?e.substring(0,4)+"00000000":"",this.options.district=e.substring(0,6)?e.substring(0,6)+"000000":"",this.options.xiang=e.substring(0,9)?e.substring(0,9)+"000":"",this.options.cun=e.substring(0,12)?e.substring(0,12):"",this.$element.val(""),this.refresh()}},setValue:function(t){this.setCode(t)},setFocus:function(){this._focusElement()},setRequired:function(t){if(!1===t)this.$textspan.removeClass("required"),this.$container.removeClass("required"),this.validObj&&this.validObj.removeOrder("required");else if(this.$textspan.addClass("required"),this.$container.addClass("required"),this.validObj)this.validObj.addOrder({type:"required",msg:this.options.toolTip||null});else{var e={triggerHandles:"contentChange click mouseover focus",toolTip:this.options.toolTip||null};this.validObj=new validateObj(this.$element.attr("id"),this.$textspan,e),this.$element.addClass("validate"),this.validObj.addOrder({type:"required",msg:this.options.toolTip||null})}},getInput:function(){return this.$element},getInputLabel:function(){return this.$container.find("label")},doValidate:function(){return!this.validObj||this.validObj.executeValidate()},textHelp:function(){var t=this.$textHelp,e={width:this.options.textHelpWidth||"200",position:this.options.textHelpPosition||"bottomLeft",info:this.options.textHelp||"这是帮助信息",arrowWidth:16};Bubble.setBubbleEvent(t,e)},reset:function(e){if(e)this.$element.val(null).trigger("change");else{this.$dropdown.find(".city-select").data("item",null),t.each(this.dems,t.proxy(function(t,e){this.options[e]=this.options.defaultValue[e],this.output(e)},this)),this.tab(s),this.feedText(),this.feedVal();var i=this.getCode();this.$code.val(i),Bubble.hideInfo(),this.setValidateStyle(),this.initState()}},setEnable:function(t){this.setValidateStyle("reset"),(t=!1===t)?(this.close(!0),this.unbind(),this.$element.attr("disabled",!0),this.$code.attr("disabled",!0),this.$textspan.addClass("disabled"),Bubble.hideInfo()):(this.bind(),this.$element.attr("disabled",!1),this.$code.attr("disabled",!1),this.$textspan.removeClass("disabled"))},setReadOnly:function(t){this.setValidateStyle("reset"),!0===t?(Bubble.hideInfo(),this.close(!0),this.unbind(),this.$textspan.addClass("readonly")):(this.bind(),this.$textspan.removeClass("readonly"))},setValidateStyle:function(t){return!1===t?void this.$textspan.removeClass("successvalidate").addClass("failvalidate"):!0===t?void this.$textspan.removeClass("failvalidate").addClass("successvalidate"):void this.$textspan.removeClass("failvalidate successvalidate")},newSerialize:function(t,e){return this.$code?this.$code.taserialize(e):""},cmptype:"citypicker"},d})},507:function(t,e){},508:function(t,e,i){"use strict";var s,n,o;!function(i){n=[],(o="function"==typeof(s=i)?s.apply(e,n):s)===undefined||(t.exports=o)}(function(){var t={86:{"A-G":[{code:"340000000000",address:"安徽省"},{code:"110000000000",address:"北京市"},{code:"500000000000",address:"重庆市"},{code:"350000000000",address:"福建省"},{code:"620000000000",address:"甘肃省"},{code:"440000000000",address:"广东省"},{code:"450000000000",address:"广西壮族自治区"},{code:"520000000000",address:"贵州省"}],"H-K":[{code:"460000000000",address:"海南省"},{code:"130000000000",address:"河北省"},{code:"230000000000",address:"黑龙江省"},{code:"410000000000",address:"河南省"},{code:"420000000000",address:"湖北省"},{code:"430000000000",address:"湖南省"},{code:"320000000000",address:"江苏省"},{code:"360000000000",address:"江西省"},{code:"220000000000",address:"吉林省"}],"L-S":[{code:"210000000000",address:"辽宁省"},{code:"150000000000",address:"内蒙古自治区"},{code:"640000000000",address:"宁夏回族自治区"},{code:"630000000000",address:"青海省"},{code:"370000000000",address:"山东省"},{code:"310000000000",address:"上海市"},{code:"140000000000",address:"山西省"},{code:"610000000000",address:"陕西省"},{code:"510000000000",address:"四川省"}],"T-Z":[{code:"120000000000",address:"天津市"},{code:"650000000000",address:"新疆维吾尔自治区"},{code:"540000000000",address:"西藏自治区"},{code:"530000000000",address:"云南省"},{code:"330000000000",address:"浙江省"}]}};return"undefined"!=typeof window&&(window.ChineseDistricts=t),t})}});